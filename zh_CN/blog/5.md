### 5. 评测端

[代码](5/代码)

评测端也不涉及系统底层和大量运算，所以我们继续使用Node.js

我们要稍微修改一下核心的代码，来让它输出JSON。

我们还要给消息总线添加一个不会自动删除的listen功能。

顺便说一下：昨天我手误弄错了不少东西，今天已修正。

今天还修正了一个bug：没有允许被测程序获取精确到秒的时间戳。

但精确到毫秒的时间仍然不允许（防止卡时骗分）。

消息总线中的关于使用方法的注释是英文的，我没做中文版。如果看不懂，请自己百度翻译。

还有一个事情：我的OJ得出的用时比洛谷准确。经过我的测试，SOJ得出的用时和`clock()`得出的一样。



代码测试方法：先开始运行message_bus_daemon.js 6708，然后开始运行sudo judger.js，最后DEBUG_test.js，你就能看到测试结果。被测程序在judger/binaries里面。

###### 2019.07.26~27